<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Index</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Index</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="lunr.html">lunr</a>.</span>Index</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Index"><span class="type-signature"></span>new Index<span class="signature">(attrs)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>An index contains the built index of all documents and provides a query interface
to the index.</p>
<p>Usually instances of lunr.Index will not be created using this constructor, instead
lunr.Builder should be used to construct new indexes, or lunr.Index.load should be
used to load previously built and serialized indexes.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>attrs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The attributes of the built search index.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>invertedIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An index of term/field to document reference.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>documentVectors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object.&lt;string, <a href="lunr.Vector.html">lunr.Vector</a>></span>


            
            </td>

            

            

            <td class="description last"><p>Document vectors keyed by document reference.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tokenSet</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.TokenSet.html">lunr.TokenSet</a></span>


            
            </td>

            

            

            <td class="description last"><p>An set of all corpus tokens.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>documentCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The total number of documents held in the index.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>averageDocumentLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The average length of all documents in the index.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>b</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>A parameter for the document scoring algorithm.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>k1</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>A parameter for the document scoring algorithm.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>The names of indexed document fields.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line25">line 25</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".load"><span class="type-signature">(static) </span>load<span class="signature">(serializedIndex)</span><span class="type-signature"> &rarr; {<a href="lunr.Index.html">lunr.Index</a>}</span></h4>

    



<div class="description">
    <p>Loads a previously serialized lunr.Index</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>serializedIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>A previously serialized lunr.Index</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line307">line 307</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="lunr.Index.html">lunr.Index</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="query"><span class="type-signature"></span>query<span class="signature">(fn)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="lunr.Index.html#~Result">lunr.Index~Result</a>>}</span></h4>

    



<div class="description">
    <p>Performs a query against the index using the yielded lunr.Query object.</p>
<p>If performing programtic queries against the index this method is prefered
over lunr.Index#search so as to avoid the additional query parsing overhead.</p>
<p>A query object is yielded to the supplied function which should be used to
express the query to be run against the index.</p>
<p>Note that although this function takes a callback parameter it is <em>not</em> an
asynchronous operation, the callback is just yielded a query object to be
customized.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.Index.html#~queryBuilder">lunr.Index~queryBuilder</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that is used to build the query.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line126">line 126</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="lunr.Index.html#~Result">lunr.Index~Result</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="search"><span class="type-signature"></span>search<span class="signature">(queryString)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="lunr.Index.html#~Result">lunr.Index~Result</a>>}</span></h4>

    



<div class="description">
    <p>Performs a search against the index using lunr query syntax.</p>
<p>Results will be returned sorted by their score, the most relevant results
will be returned first.</p>
<p>For more programatic querying use lunr.Index#query.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>queryString</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.Index.html#~QueryString">lunr.Index~QueryString</a></span>


            
            </td>

            

            

            <td class="description last"><p>A string containing a lunr query.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line94">line 94</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the passed query string cannot be parsed.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">lunr.QueryParseError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="lunr.Index.html#~Result">lunr.Index~Result</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="toJSON"><span class="type-signature"></span>toJSON<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    <p>Prepares the index for JSON serialization.</p>
<p>The schema for this JSON blob will be described in a
seperate JSON schema file.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line278">line 278</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~queryBuilder"><span class="type-signature"></span>queryBuilder<span class="signature">(query)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>A query builder callback provides a query object to be used to express
the query to perform on the index.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="lunr.Query.html">lunr.Query</a></li></ul>



    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.Query.html">lunr.Query</a></span>


            
            </td>

            

            

            <td class="description last"><p>The query object to build up.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line101">line 101</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
                
<h4 class="name" id="~QueryString">QueryString</h4>




<div class="description">
    <p>Although lunr provides the ability to create queries using lunr.Query, it also provides a simple
query language which itself is parsed into an instance of lunr.Query.</p>
<p>For programatically building queries it is advised to directyl use lunr.Query, the query language
is best used for human entered text rather than program generated text.</p>
<p>At its simplest queries can just be a single term, e.g. <code>hello</code>, multiple terms are also supported
and will be combined with OR, e.g <code>hello world</code> will match documents that contain either 'hello'
or 'world', though those that contain both will rank higher in the results.</p>
<p>Wildcards can be included in terms to match one or more unspecified characters, these wildcards can
be inserted anywhere within the term, and more than one wildcard can exist in a single term. Adding
wildcards will increase the number of documents that will be found but can also have a negative
impact on query performance, especially with wildcards at the begining of a term.</p>
<p>Terms can be restricted to specific fields, e.g. <code>title:hello</code>, only documents with the term
hello in the title field will match this query. Using a field not present in the index will lead
to an error being thrown.</p>
<p>Modifiers can also be added to terms, lunr supports edit distance and boost modifiers on terms. A term
boost will make documents matching that term score higher, e.g. <code>foo^5</code>. Edit distance is also supported
to provide fuzzy matching, e.g. 'hello~2' will match documents with hello with an edit distance of 2.
Avoid large values for edit distance to improve query performance.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Examples</h5>
    
        <p class="code-caption">Simple single term query</p>
    
    <pre class="prettyprint"><code>hello</code></pre>

        <p class="code-caption">Multiple term query</p>
    
    <pre class="prettyprint"><code>hello world</code></pre>

        <p class="code-caption">term scoped to a field</p>
    
    <pre class="prettyprint"><code>title:hello</code></pre>

        <p class="code-caption">term with a boost of 10</p>
    
    <pre class="prettyprint"><code>hello^10</code></pre>

        <p class="code-caption">term with an edit distance of 2</p>
    
    <pre class="prettyprint"><code>hello~2</code></pre>



            
                
<h4 class="name" id="~Result">Result</h4>




<div class="description">
    <p>A result contains details of a document matching a search query.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ref</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The reference of the document this result represents.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>score</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>A number between 0 and 1 representing how similar this document is to the query.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>matchData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.MatchData.html">lunr.MatchData</a></span>


            
            </td>

            

            

            <td class="description last"><p>Contains metadata about this match including which term(s) caused the match.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line36">line 36</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="lunr.Builder.html">lunr.Builder</a></li><li><a href="lunr.Index.html">lunr.Index</a></li><li><a href="lunr.MatchData.html">lunr.MatchData</a></li><li><a href="lunr.Pipeline.html">lunr.Pipeline</a></li><li><a href="lunr.Query.html">lunr.Query</a></li><li><a href="lunr.Token.html">lunr.Token</a></li><li><a href="lunr.TokenSet.html">lunr.TokenSet</a></li><li><a href="lunr.Vector.html">lunr.Vector</a></li></ul><h3>Namespaces</h3><ul><li><a href="lunr.html">lunr</a></li></ul><h3>Interfaces</h3><ul><li><a href="lunr.PipelineFunction.html">lunr.PipelineFunction</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Aug 28 2016 17:17:49 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>